@std;$block ~std;{|import;"std"}
@print;$block ~print;:std.print

@do_something;$fn
~do_something;{
    @x;$num
    @y;$num
    @z;$num
    @s;$str
},$num,{
    !:^print;:_.x,:_.y,:_.z,:_.s

    // blocks implicitly return the result of the last meta operation
    #+;:_.x,:_.y,:_.z
}

@Storage;$struct
~Storage;{
    @stored;$num
    @capacity;$num
}

@main;$fn
~main;{},$void,{
    @storage;:^Storage
    ~:storage.stored;10
    ~:storage.capacity;100

    @result;$num
    ~result;{!do_something;:storage.stored,:storage.capacity,100,"Hello, world!"}

    !:^print;:storage.stored
    !:^print;:storage.capacity

    ?result;100,{
        !:^print;"Result is 100"
    },{
        !:^print;"Result is not 100"
    }

    ?{#>;result,100},{
        !:^print;"Result is greater than 100"
    },{
        !:^print;"Result is not greater than 100"
    }
}
