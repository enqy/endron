@(do_something, $block)
~(do_something, {
    ~(_, {
        @(x, $num)
        @(y, $num)
        @(z, $num)
        @(s, $str)
    })

    !(print, (_.x, _.y, _.z, _.s))

    @(__, $num)
    ~(__, x + y + z)
})

@(Storage, $block)
~(Storage, {
    @(stored, $num)
    @(capacity, $num)
})

@(main, $block)
~(main, {
    @(storage, Storage)
    ~(storage.stored, 10)
    ~(storage.capacity, 100)

    @(something, $num)
    ~(something, !(do_something, (storage.stored, storage.capacity, 100, "Hello, world!")))
    !(print, (something))

    ?(#(>, (something, 100)), {
        !(print, ("Something is greater than 100"))
    }, {
        !(print, ("Something is less than 100"))
    })

    ^(something, (
        (100, {
            !(print, ("Something is equal to 100"))
        }),
        (101, {
            !(print, ("Something is equal to 101"))
        }),
        (102, {
            !(print, ("Something is equal to 102"))
        }),
    ))
})
